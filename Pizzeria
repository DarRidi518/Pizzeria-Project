from datetime import datetime
import sys
import re


def registration():
    date_1 = "01.01.1945"
    date_2 = "01.01.2007"
    date_format = "%d.%m.%Y"
    date_min = datetime.strptime(date_1, date_format)
    date_max = datetime.strptime(date_2, date_format)
    print("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ '–Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –ø–∏—Ü—Ü—ã'!")
    mail = input("–î–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–ø–µ—Ä–≤–∞ –≤–≤–µ–¥–∏—Ç–µ –ø–æ—á—Ç—É: ")
    if "@mail.ru" or "@gmail.com" in mail:
        age = input("–ù–∞–ø–∏—à–∏—Ç–µ –¥–∞—Ç—É –≤–∞—à–µ–≥–æ —Ä–æ–∂–¥–µ–Ω–∏—è (–î–î.–ú–ú.–ì–ì–ì–ì): ")
        age_check = re.search(r'^(0[1-9]|[12][0-9]|3[01])\.(0[1-9]|1[0-2])\.(\d{4})$', age)
        if bool(age_check) == True:
            age_2 = datetime.strptime(age, date_format)
            if age_2 > date_min and age_2 < date_max:
                phone_num = input("–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (+7 000 000 00-00): ")
                phone_check = re.search(r'^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$', phone_num)
                if bool(phone_check) == True:
                    name = input("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –§–ò–û: ")
                    print("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å,", name,"!")
                elif bool(phone_check) == False:
                    print("–ù–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.")
                    sys.exit()
            else:
                print("–ù–µ–≤–µ—Ä–Ω–æ —É–∫–∞–∑–∞–Ω–∞ –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è.")
                sys.exit()
        elif bool(age_check) == False:
            print("–ù–µ–≤–µ—Ä–Ω–æ —É–∫–∞–∑–∞–Ω–∞ –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è.")
            sys.exit()
    else:
        print("–ù–µ–≤–µ—Ä–Ω–æ —É–∫–∞–∑–∞–Ω–∞ –ø–æ—á—Ç–∞.")
        sys.exit()


menu = lambda: print("–í–æ—Ç –Ω–∞—à–µ –º–µ–Ω—é:"
            "\n-----------------------------------------------"
            "\n–ü–∏—Ü—Ü—ã üçï: "
            "\n–ü–µ–ø–ø–µ—Ä–æ–Ω–∏ 1200 —Ä."
            "\n–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞ 1000 —Ä."
            "\n–ß–æ—Çi—Äi —Åi—Ä—É 1000 —Ä."
            "\n–ö–∞—Å—Ç–æ–º–Ω–∞—è, –º–æ–ª–æ–¥–µ–∂–Ω–∞—è –ø–∏—Ü—Ü–∞ '–ë—Ä–∞–∏–Ω–†–æ—Ç' (–∫–∞—Å—Ç–æ–º–Ω–∞—è –ø–∏—Ü—Ü–∞) —Ü–µ–Ω–Ω–∞ –∑–∞ –ø—Ä–æ–¥—É–∫—Ç—ã —Å–≤–æ—è"
            "\n----------------------------------------------"
            "\n–ù–∞–ø–∏—Ç–∫–∏ üçπ:"
            "\n–ö–æ–ª–∞, —Å–ø—Ä–∞–π—Ç, —Ñ–∞–Ω—Ç–∞ 80 —Ä."
            "\n–ú–∏–ª–∫—à–µ–π–∫–∏ (–≤–∞–Ω–∏–ª—å, –∫–ª—É–±–Ω–∏–∫–∞, —à–æ–∫–æ–ª–∞–¥) 140 —Ä."
            "\n–ö–æ–∫—Ç–µ–π–ª—å '–ë–∞—É–Ω—Ç–∏' 150 —Ä."
            "\n----------------------------------------------"
            "\n–°–Ω–µ–∫–∏ üçü:"
            "\n–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏ 200 –≥—Ä. 150 —Ä."
            "\n–õ—É–∫–æ–≤—ã–µ –∫–æ–ª—å—Ü–∞ 200 –≥—Ä. 200 —Ä."
            "\n–ü–∞–ª–æ—á–∫–∏ –º–æ—Ü–∞—Ä–µ–ª–ª—ã 300 –≥—Ä. 250 —Ä."
            "\n----------------------------------------------"
            "\n–î–µ—Å–µ—Ä—Ç—ã ü•ß:"
            "\n–ú–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ (–≤–∞–Ω–∏–ª—å–Ω–æ–µ, —à–æ–∫–æ–ª–∞–¥–Ω–æ–µ, –∫–ª—É–±–Ω–∏—á–Ω–æ–µ) 50 —Ä."
            "\n–ü–∏—Ä–æ–∂–µ–Ω–Ω–æ–µ '–¢–∏—Ä–∞–º–∏—Å—É' 200 —Ä."
            "\n–ñ–∞—Ä–µ–Ω–Ω—ã–π —Å–Ω–µ–≥ 10000 G."
            "\n----------------------------------------------")
print("–ì–æ—Ç–æ–≤—ã –ø—Ä–∏–Ω—è—Ç—å –≤–∞—à –∑–∞–∫–∞–∑!")


def food_choose_and_chek():
      summ_1 = 0
      summ_2 = 0
      summ_3 = 0
      total_summ = 0
      summ_1_1 = 0
      summ_1_2 = 0
      pizza = input('\n–ö–∞–∫—É—é –ø–∏—Ü—Ü—É –∂–µ–ª–∞–µ—Ç–µ?: ')
      if pizza == "–ü–µ–ø–ø–µ—Ä–æ–Ω–∏":
              summ_1 = summ_1 + 1200
      elif pizza == "–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞":
              summ_1 = summ_1 + 1000
      elif pizza == "–ß–µ—Ç—ã—Ä–µ —Å—ã—Ä–∞":
              summ_1 = summ_1 + 1000
      elif pizza == "–ö–∞—Å—Ç–æ–º–Ω–∞—è –ø–∏—Ü—Ü–∞":
          print("–°–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–∏–¥–∏–µ–Ω—Ç–æ–≤:"
                              "\n-----------------------------------------------"
                              "\n–°–æ—É—Å—ã:"
                              "\n–¢–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å 200 —Ä."
                              "\n–°—ã—Ä–Ω—ã–π —Å–æ—É—Å 250 —Ä."
                              "\n–°–æ—É—Å '–ë—Ä–∞–∏–Ω–†–æ—Ç' 500 —Ä."
                              "\n-----------------------------------------------"
                              "\n–ú—è—Å–Ω—ã–µ –Ω–∞—á–∏–Ω–∫–∏:"
                              "\n–í–µ—Ç—á–∏–Ω–∞ 200 —Ä."
                              "\n–ü–µ–ø–ø–µ—Ä–æ–Ω–∏ 250 —Ä."
                              "\n–ú—è—Å–æ '–ë—Ä–∞–∏–Ω–†–æ—Ç' 500 —Ä."
                              "\n-----------------------------------------------"
                              "\n–°—ã—Ä—ã:"
                              "\n–ú–æ—Ü–∞—Ä–µ–ª–ª–∞ 200 —Ä."
                              "\n–ê–¥—ã–≥–µ–π—Å–∫–∏–π —Å—ã—Ä 50 —Ä."
                              "\n–°—ã—Ä '–ë—Ä–∞–∏–Ω–†–æ—Ç' 500 —Ä."
                              "\n-----------------------------------------------")
          sauce = input('\n–ö–∞–∫–æ–π —Å–æ—É—Å –∂–µ–ª–∞–µ—Ç–µ?: ')
          if sauce == "–¢–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å":
              summ_1_1 = summ_1_1 + 200
          elif sauce == "–°—ã—Ä–Ω—ã–π —Å–æ—É—Å":
              summ_1_1 = summ_1_1 + 250
          elif sauce == "–°–æ—É—Å –±—Ä–∞–∏–Ω—Ä–æ—Ç":
              summ_1_1 = summ_1_1 + 500
          elif sauce == "":
              summ_1_1 = summ_1_1 + 0
          meat = input('–ö–∞–∫–æ–µ –º—è—Å–æ?: ')
          if meat == "–í–µ—Ç—á–∏–Ω–∞":
              summ_1_2 = summ_1_1 + 200
          elif meat == "–ü–µ–ø–ø–µ—Ä–æ–Ω–∏":
              summ_1_2 = summ_1_1 + 250
          elif meat == "–ú—è—Å–æ –±—Ä–∞–∏–Ω—Ä–æ—Ç":
              summ_1_2 = summ_1_1 + 500
          elif meat == "":
              summ_1_2 = summ_1_1 + 0
          cheese = input('–ö–∞–∫–æ–π —Å—ã—Ä?: ')
          if cheese == "–ú–æ—Ü–∞—Ä–µ–ª–ª–∞":
              summ_1 = summ_1_2 + 200
          elif cheese == "–ê–¥—ã–≥–µ–π—Å–∫–∏–π —Å—ã—Ä":
              summ_1 = summ_1_2 + 50
          elif cheese == "–°—ã—Ä –±—Ä–∞–∏–Ω—Ä–æ—Ç":
              summ_1 = summ_1_2 + 500
          elif cheese == "":
              summ_1 = summ_1_2 + 0
          print("–°–∫–æ—Ä–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–Ω–æ!")
      elif pizza == "":
              summ_1 = summ_1 + 0
      drink = input('–ù–∞–ø–∏—Ç–æ–∫?: ')
      if drink == "–ö–æ–ª–∞":
              summ_2 = summ_1 + 80
      elif drink == "–°–ø—Ä–∞–π—Ç":
              summ_2 = summ_1 + 80
      elif drink == "–§–∞–Ω—Ç–∞":
              summ_2 = summ_1 + 80
      elif drink == "–®–æ–∫–æ–ª–∞–¥–Ω—ã–π –º–∏–ª–∫—à–µ–π–∫":
              summ_2 = summ_1 + 140
      elif drink == "–ö–ª—É–±–Ω–∏—á–Ω—ã–π –º–∏–ª–∫—à–π–µ–∫":
              summ_2 = summ_1 + 140
      elif drink == "–≤–∞–Ω–∏–ª—å–Ω—ã–π –º–∏–ª–∫—à–π–µ–∫":
              summ_2 = summ_1 + 140
      elif drink == "–ö–æ–∫—Ç–µ–π–ª—å –ë–∞—É–Ω—Ç–∏":
              summ_2 = summ_1 + 150
      elif drink == "":
              summ_2 == summ_1
      snack = input('–°–Ω–µ–∫?: ')
      if snack == "–ö–∞—Ä—Ç–æ—à–∫–∞ —Ñ—Ä–∏":
              summ_3 = summ_2 + 150
      elif snack == "–õ—É–∫–æ–≤—ã–µ –∫–æ–ª—å—Ü–∞":
              summ_3 = summ_2 + 200
      elif snack == "–ü–∞–ª–æ—á–∫–∏ –º–æ—Ü–∞—Ä–µ–ª–ª—ã":
              summ_3 = summ_2 + 250
      elif snack == "":
              summ_3 = summ_2 + 0
      desert = input('–î–µ—Å–µ—Ä—Ç?: ')
      if desert == "–í–∞–Ω–∏–ª—å–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ":
              total_summ = summ_3 + 70
      if desert == "–ö–ª—É–±–Ω–∏—á–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ":
              total_summ = summ_3 + 70
      if desert == "–®–æ–∫–æ–ª–∞–¥–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ":
              total_summ = summ_3 + 70
      elif desert == "–¢–∏—Ä–∞–º–∏—Å—É":
              total_summ = summ_3 + 200
      elif desert == "–ñ–∞—Ä–µ–Ω–Ω—ã–π —Å–Ω–µ–≥":
              total_summ = summ_3 + 10000
      elif desert == "":
              total_summ = summ_3 + 0
      print("\n–í–æ—Ç –≤–∞—à —á–µ–∫:"
            "\n-----------------------"
            "\n")
      payment_way = input("–û–ø–ª–∞—Ç–∞ –ø–æ –∫–∞—Ä—Ç–µ –∏–ª–∏ –Ω–∞–ª–∏—á–Ω—ã–º–∏: ")
      if payment_way == "–∫–∞—Ä—Ç–æ–π":
              print("–í–∞—à –∑–∞–∫–∞–∑ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –∏ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ 20 –º–∏–Ω—É—Ç. –û–∂–∏–¥–∞–π—Ç–µ!")
      elif payment_way == "–ù–∞–ª–∏—á–Ω—ã–º–∏":
              cash = int(input("–í–≤–µ–¥–∏—Ç–µ –æ–±—â–µ–µ –∫–æ–ª-–≤–æ –¥–µ–Ω–µ–≥ –¥–ª—è –æ–ø–ª–∞—Ç—ã: "))
              if cash > total_summ:
                    change = cash - total_summ
                    print("–í–æ—Ç –≤–∞—à–∞ —Å–¥–∞—á–∞:", change, "—Ä—É–±–ª–µ–π")
                    print("–í–∞—à –∑–∞–∫–∞–∑ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –∏ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ 20 –º–∏–Ω—É—Ç. –û–∂–∏–¥–∞–π—Ç–µ!")
                    sys.exit()
              elif cash < total_summ:
                    print("–£ –≤–∞—Å –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç. –û—Ç–º–µ–Ω—è–µ–º –∑–∞–∫–∞–∑...")
                    sys.exit()

registration()
menu()
food_choose_and_chek()
